Begin["Prelude`Private`"];

SetAttributes[safeClearAll, HoldAllComplete];
safeClearAll[e___] := (Unprotect[e]; ClearAll[e]);

create[clear_, context_, symbols_] := Block[
  {$ContextPath = {"System`", context}, $Context = context},
  ToExpression[symbols, InputForm, If[clear, safeClearAll, HoldComplete]]
];

create[True, "Prelude`", "{SystemExports, PackageExports, PrivateExports, DeclareFilePrivates, DeclareFileLocals, DeclarePackagePrivates, DeclarePackageLocals, DeclarePackageGlobals, DeclareSystemPrivates, DeclareSystemGlobals,PackageSymbolKinds, PackageSymbolNames, PackageSymbolTable,LoadPrint,PreludeLoadedPackages,PreludeLoadPackage,PackageLoadCompletedQ,CoreToolsContextQ, CoreToolsSymbolQ,FindLikelySymbolName, LikelySymbolNames, RegisterDynamicAliasFunction, CreateDynamicAlias,AttachImmediateValue, AttachDelayedValue,SymbolTableRow,SymbolTableFromHeaders, SymbolTableFromDirectives, PreludeSymbolTable, DumpPreludeSymbolTable,SymbolTableInit, SymbolTableInitString,SymbolTableGroups, SymbolTableFind, SymbolTableSymbolList, SymbolTableSymbolLines, SymbolTableSymbolString, SymbolTableSymbolCount,WithShadowingFixup,SymbolTableValidQ,ExportFunction, ExportSpecialFunction, ExportControlFlowFunction, ExportDeclareFunction, ExportDefineFunction, ExportHoldingFunction, ExportDebuggingFunction, ExportIOFunction, ExportGraphicsFunction, ExportGraphicsBoxFunction, ExportBoxFunction, ExportMessageFunction, ExportMetaFunction, ExportMutatingFunction, ExportScopingFunction, ExportPackageFunction, ExportSymbol, ExportHead, ExportSpecialSymbol, ExportSpecialHead, ExportBoxSymbol, ExportBoxHead, ExportFormSymbol, ExportFormHead, ExportDataSymbol, ExportDataHead, ExportObjectSymbol, ExportObjectHead, ExportPatternSymbol, ExportPatternHead, ExportStringPatternSymbol, ExportStringPatternHead, ExportTypeSymbol, ExportTypeHead, ExportSymbolicHead, ExportFieldSymbol, ExportFieldHead, ExportSortSymbol, ExportSortHead, ExportSlotSymbol, ExportSlotHead, ExportTagSymbol, ExportTagHead, ExportVariable, ExportSpecialVariable, ExportCacheVariable, ExportSlotVariable, ExportTagVariable, ExportOption, ExportSpecialOption, ExportBoxOption, ExportFormOption, ExportGraphicsOption, ExportGraphicsDirective, ExportGraphicsPrimitive, ExportPredicate, ExportPredicateOperator, ExportOperator, PrivateFunction, PrivateSpecialFunction, PrivateControlFlowFunction, PrivateDeclareFunction, PrivateDefineFunction, PrivateHoldingFunction, PrivateDebuggingFunction, PrivateIOFunction, PrivateGraphicsFunction, PrivateGraphicsBoxFunction, PrivateBoxFunction, PrivateMessageFunction, PrivateMetaFunction, PrivateMutatingFunction, PrivateScopingFunction, PrivatePackageFunction, PrivateSymbol, PrivateHead, PrivateSpecialSymbol, PrivateSpecialHead, PrivateBoxSymbol, PrivateBoxHead, PrivateFormSymbol, PrivateFormHead, PrivateDataSymbol, PrivateDataHead, PrivateObjectSymbol, PrivateObjectHead, PrivatePatternSymbol, PrivatePatternHead, PrivateStringPatternSymbol, PrivateStringPatternHead, PrivateTypeSymbol, PrivateTypeHead, PrivateSymbolicHead, PrivateFieldSymbol, PrivateFieldHead, PrivateSortSymbol, PrivateSortHead, PrivateSlotSymbol, PrivateSlotHead, PrivateTagSymbol, PrivateTagHead, PrivateVariable, PrivateSpecialVariable, PrivateCacheVariable, PrivateSlotVariable, PrivateTagVariable, PrivateOption, PrivateSpecialOption, PrivateBoxOption, PrivateFormOption, PrivateGraphicsOption, PrivateGraphicsDirective, PrivateGraphicsPrimitive, PrivatePredicate, PrivatePredicateOperator, PrivateOperator}"]

create[True, "System`", "{UnprotectClearAll, UnprotectClear,ToInputString, HoldToInputString, FromInputString,UAssociation,HoldLength, HoldSequenceLength, HoldByteCount, HoldSymbolName, HoldSymbolNameAlias, HoldSymbolContext, HoldSymbolPath, NaturalNumberString, FullIntegerString,HoldListQ, HoldAssociationQ, HoldPackedArrayQ, PackedListQ, HoldStringQ, HoldIntegerQ, HoldNaturalQ, HoldNumberQ, HoldBooleanQ,PrivateHoldComplete, PrivateSequence, PrivateHoldCompleteSequence,DeclaredHere,OutputExpressionForm, MessageArgumentForm,Caching, Logging, LogLevel, Verbose,SourceLocation,GetHoldComplete, GetHidden,NonLethalPackageMessages,AbortPackageLoading,SublimeOpen, SublimeSeek, SublimeRun,FileLocation,SublimeProject, OpenInNewWindow,NamePaths, NamePathsGrouped, NameFirst, NameLast, NameMost, NameMostLast,EnsureContext,SystemContextQ, ActiveNameQ, FormalSymbolQ, UserSymbolQ, SystemSymbolQ, InertSymbolQ, ActiveSymbolQ, InertUserSymbolQ, InertSystemSymbolQ, CapitalizedSymbolQ, DocumentedSymbolQ,DefinitionRules, DefinitionCounts, KernelCodes,SymbolNameSet, SymbolNameSetDelayed,NewSymbolHandler,TraceAutoloads, BlockPrint, Capture, RawPrintBoxes, HandleUnpacking, UnpacksDuringQ, CountUnpackings, BenchmarkUnpacking, BenchmarkUnpackingData, TraceUnpackings, EnableDebugPrinting, DisableEchoPrinting, FailureString, UnpackingTable, MicroTiming, MicroTimingTable,CustomizedPrint, ErrorPrint, LogPrint, RawPrint, CachePrint, LabeledPrint, DPrint, EchoPrint, WithRawPrintIndent}"]

create[True, "Prelude`Packages`Private`", "{PackageLoadMessageHandler, PackageLoadUncaughtThrowHandler}"]

create[True, "Session`", "{CreateCachedBox, CachedBox,DefaultPreEvaluationHook, DefaultPostEvaluationHook, SaveEvaluationCellState, RestoreEvaluationCellState, InstallSessionHooks, UninstallSessionHooks, UniqueSessionID,SessionEvaluatedSinceQ}"]

create[False, "Prelude`", "{$PreludeLoaded, $PreludeDir, $PreludeFiles,$SymbolAliases, $SymbolAliasesDirty, $PackageLoadVerbose, $PackageCurrentlyLoading, $LastFailedExpression, $PackageLoadCompleteQ,$CurrentPackageLineSentinel, $CurrentPackageFile, $CurrentPackageDirectory, $CurrentPackageFileHash, $CurrentPackageExpr, $CurrentPackageExprCount, $CurrentPackageMessageCount,$SymbolTableKinds, $SymbolExportFunctions}"]

create[False, "System`", "{$FormalSymbols,$Captured, $LastTraceback, $RawPrintIndent, $RawPrintMaxRate, $CellPrintLabel, $DebugPrinting, $EchoPrinting, $CachePrinting, $CurrentlyTracingAutoloads, $ShouldPrint, $Disabled}"]

create[False, "Prelude`Packages`Private`", "{$PackageFileCache, $PackageFileModTime, $PackageSymbolTable, $PackageSymbolAliases, $PackageKindDeclarations, $PackagePreLoadActions, $PackagePostLoadActions, $PackageLoadFileTimings, $PackageModTime, $LethalPackageMessages}"]

create[False, "Session`", "{$SessionLastEvaluationTime, $SessionEvaluationsCount, $SessionCurrentEvaluationStartTime, $SessionCurrentEvaluationPrintCount, $SessionMaxEvaluationPrintCount, $CurrentEvaluationCellState, $EvaluationsSinceDict,$PreEvaluationHook, $PostEvaluationHook, $ShiftReturnHookInstalled,$SublimeApplicationPath, $SublimeProjectsPath, $SublimeRunCount}"]

End[];